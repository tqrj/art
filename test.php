<?php
function int4(int $i)
{
    return pack('I',$i);
}

Co\run(function(){


    $n=0;
    while ($n < 1000){
        \Co\System::sleep(0.1);
        $n++;
        go(function (){
            $client = new Swoole\Coroutine\Client(SWOOLE_SOCK_TCP);
            $client->set(array(
                'open_length_check'     => true,
                'package_max_length'    => 81920,
                'package_length_type'   => 'l',
                'package_length_offset' => 0,
                'package_body_offset'   => 0,
            ));
            if (!$client->connect('39.101.214.137', 9501))
            {
                echo "connect failed. Error: {$client->errCode}\n";
                return;
            }
            $str = '=> å’Œ->çš„åŒºåˆ«ï¼Œæˆ‘ç›®å‰è‡ªå·±è§‰å¾—->æ˜¯è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±žæ€§å’Œæ–¹æ³• =>æ˜¯ç”¨äºŽæ•°ç»„ï¼Œæ˜Žå¤©ç™¾åº¦ ï¼ˆå—¯æ²¡é”™çš„ï¼‰new obj() å’Œnew obj ï¼›åœ¨phpé‡Œæ²¡æœ‰ä¸åŒçš„æ„ä¹‰å”¯ä¸€ä¸åŒçš„æ˜¯å¸¦æ‹¬å·çš„å¯ä»¥ç»™æž„é€ å‡½æ•°ä¼ å‚ æž„é€ å‡½æ•°ä¸èƒ½è¿”å›žå€¼ newçš„è¿™ä¸ªå¯¹è±¡ä¹Ÿä¸èƒ½ã€‚ è¦returnçš„è¯å¯ä»¥å•ç‹¬å†™ä¸ªinité™æ€å‡½æ•°ã€‚å¯¹è±¡é‡Œé¢çš„å‡½æ•°å’Œå˜é‡åˆ†ä¸‰ç§ç±»åž‹é»˜è®¤æ˜¯å…¬å¼€çš„ è¿˜æœ‰ç§æœ‰å’Œä¿æŠ¤publicï¼ˆå…¬æœ‰ï¼‰ï¼šå…¬æœ‰çš„ç±»æˆå‘˜å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è¢«è®¿é—®ã€‚protectedï¼ˆå—ä¿æŠ¤ï¼‰ï¼šå—ä¿æŠ¤çš„ç±»æˆå‘˜åˆ™å¯ä»¥è¢«å…¶è‡ªèº«ä»¥åŠå…¶å­ç±»å’Œçˆ¶ç±»è®¿é—®ã€‚ï¼ˆè¿™é‡Œçš„çˆ¶ç±»å†™æ˜¯è¿™æ ·å†™ï¼Œä½†å…¶å®žè€å¸ˆè¯´æ˜¯é”™çš„ï¼Œæˆ‘ä¹Ÿç¡®å®žæ²¡ç†è§£è¿‡æ¥ä»£ç æ˜¯æŒ‰é€è¡Œå¾€ä¸‹ï¼Œå®ƒçš„çˆ¶ç±»æ€Žä¹ˆæå‰åŽ»è®¿é—®è¿™ä¸ªå‡½æ•°æˆ–å±žæ€§å‘¢ï¼Œç„¶åŽè¿™é‡Œå­ç±»æ˜¯æŒ‡è¿™ä¸ªç±»ç»§æ‰¿äº†å…¶ä»–çš„ç±»ï¼Œä¸æ˜¯åœ¨è¿™ä¸ªç±»é‡ŒåµŒå¥—å£°æ˜Žçš„ç±»åœ¨å†™çš„æ—¶å€™ä¸èƒ½åµŒå¥— ï¼Œåªèƒ½ç»§æ‰¿ï¼ï¼‰privateï¼ˆç§æœ‰ï¼‰ï¼šç§æœ‰çš„ç±»æˆå‘˜åˆ™åªèƒ½è¢«å…¶å®šä¹‰æ‰€åœ¨çš„ç±»è®¿é—®ã€‚empty å’Œissetçš„åŒºåˆ«æ˜¯emptyæ˜¯åˆ¤æ–­è¿™ä¸ªå€¼æ˜¯å¦ä¸ºç©ºæ¯”å¦‚nullä¸ºç©º unä»€ä¹ˆæ¥ç€ä¸ä¼šæ‹¼ â€œâ€éƒ½ç®—ç©ºä½†isset ä¾‹å¦‚ä½ è¿™æ ·èµ‹å€¼ï¼š$str=â€;è¿™æ ·æ‰ç®—ç©º(æ²¡æœ‰æµ‹è¯•å•çº¯çš„è‡ªå·±è§‰å¾—ï¼Œæ˜Žå¤©æœ‰ç©ºå†è¯•è¯•å§)å¦å¤–åœ¨è¿™ä¸ªå¯¹è±¡çš„ä½œç”¨åŸŸé‡Œæ“ä½œè¿™ä¸ªå¯¹è±¡çš„å‡½æ•°å’Œå˜é‡æ—¶å¿…é¡»è¦ä½¿ç”¨thisæ¥æ ‡è¯†å¼•ç”¨çš„è¿™ä¸ªå¯¹è±¡çš„å‡½æ•°ï¼Œå˜é‡
phpå˜é‡åœ¨å£°æ˜Žçš„æ—¶å€™ä¸èƒ½æŒ‡å®šç±»åž‹ï¼Œåº”è¯¥æ˜¯æœ¬èº«æ˜¯å¼±ç±»åž‹çš„ç„¶åŽæ“è›‹çš„å°±æ˜¯å¦‚æžœæˆ‘å…ˆç”³æ˜Žä¸€ä¸ªå˜é‡ç„¶åŽæŠŠä¸€ä¸ªå¯¹è±¡èµ‹å€¼ç»™è¿™ä¸ªå˜é‡ï¼Œç„¶åŽè°ƒç”¨è¿™ä¸ªå˜é‡çš„å‡½æ•°ï¼Œvscodeæ²¡æœ‰æ™ºèƒ½æç¤ºâ€¦.å¦‚æžœç›´æŽ¥ä½¿ç”¨å‡½æ•°ä¸ç”¨å¯¹è±¡çš„å½¢å¼æ˜¯æœ‰æç¤ºçš„è¿™ç‚¹å¾ˆæ“è›‹ï¼Œxdebugä¹Ÿä¸å¤ªå¥½ä½¿ç½‘ä¸Šçš„æ•™ç¨‹éƒ½åªæ•™ä½ ðŸŽï¼Œemmmæˆ‘åº”è¯¥è®¤çœŸåŽ»æ‰¾ä¸€å¥—ä¸å¥—è·¯çš„è§†é¢‘ã€‚
ç„¶åŽä»Šå¤©å°±è®°å½•è¿™ä¹ˆå¤šå§å…¶å®žåŸºæœ¬ä¸Šè¿™ä¸ªä½œä¸šéƒ½æ˜¯ä¸€è¾¹ç™¾åº¦ä¸€è¾¹å†™éƒ½èƒ½ç†è§£ä¹Ÿè‚¯å®šæ˜¯bugä¸€å †ï¼Œç›®å‰å¯¹è±¡çš„è¿™äº›æ¦‚å¿µéƒ½èƒ½ç†è§£ä½†è¿˜ä¸ç†Ÿè®°ä¸å¤ªæ¸…ï¼Œä½†åˆæ‡’å¾—çœ‹æ•™ç¨‹åæ­£å°±å‡ ä¸ªæŽ¥å£ äº‰å–æ¯•ä¸šå‰æœ‰å‡ ä¸ªæ‹¿çš„å‡ºæ‰‹çš„ä½œå“ enï¼Œæ‡’å¾—æ•´ç†äº†ä»Šå¤©å°±è¿™æ ·è®°å½•ä¸€ä¸‹çŽ©ä¼šç¡è§‰11.22-22ç‚¹36åˆ†public å…¬å¼€ å½“å‰ç±»å¯ä»¥è°ƒç”¨ å­ç±»å¯ä»¥è®¿é—® å®žä¾‹åŒ–ä¹‹åŽå¯ä»¥è®¿é—®protected ä¿æŠ¤ å½“å‰ç±»çš„å¯ä»¥è¢«è‡ªèº«ç±»è®¿é—® å¯ä»¥è¢«å­ç±»è®¿é—®private ç§æœ‰ åªèƒ½åœ¨å½“å‰ç±»è°ƒç”¨æ‹é»„ç‰‡çš„ç±»ä¸èƒ½åœ¨å†™çš„æ—¶å€™åµŒå¥—ç±» åªèƒ½ç»§æ‰¿ç±»çš„é™æ€æ–¹æ³•å’Œå±žæ€§ åœ¨å½“å‰å†…è°ƒç”¨éœ€è¦ä½¿ç”¨self::åœ¨å¤–é¢éœ€è¦ä½¿ç”¨::11.22-21ç‚¹43å‘½åç©ºé—´ namespaceç”¨äº†å‘½ç©ºé—´ä¹‹åŽè°ƒç”¨å‡½æ•°ï¼Œç±» ç±»çš„å˜é‡ï¼ˆå…¨å±€å˜é‡ä¸ç”¨ï¼‰ å¿…é¡»å¸¦ä¸Š å‘½åç©ºé—´ä¸ç„¶æ˜¯æ‰¾ä¸åˆ°çš„å‚è€ƒè¿™ä¸ªç™¾åº¦çŸ¥é“å†™çš„å¾ˆç®€ä»‹https://zhidao.baidu.com/question/1446426021047408980.htmlè‡ªå·±ç†è§£å‘½åç©ºé—´çš„ä½œç”¨æ˜¯é˜²æ­¢åœ¨å¼•å…¥ä¸åŒçš„ç±»åº“æ—¶ï¼Œå‡ºçŽ°é‡å¤å‘½å è¢«åŽè€…è¦†ç›–å¤±æ•ˆnamespace å¿…é¡»åœ¨æ‰€æœ‰ä»£ç ä¹‹å‰ ä¸€ä¸ªphpæ–‡ä»¶å¯ä»¥å£°æ˜Žå¤šä¸ªnamespace æœ€å¥½ç”¨èŠ±æ‹¬å·åŒ…æ‹¬èµ·æ¥å½“ç„¶ä¹Ÿå¯ä»¥ä¸åŒ…æ‹¬ã€‚
include å’Œrequireæ˜¯æœ‰åŒºåˆ«çš„ è¿™ä¸ªåŒºåˆ«è¿˜æ²¡æœ‰æµ‹è¯•ï¼Œæˆ‘ä¸æ¸…æ¥šincludeå’Œinclude_once çš„åŒºåˆ«æ˜¯ å‰è€…å¯ä»¥è¢«é‡å¤å¼•ç”¨ï¼ŒåŽè€…ä¸ç®¡ä»£ç å½“å‰ä»£ç åŸŸè¢«æ‰§è¡Œå¤šå°‘æ¬¡ åªè¦æ˜¯åŒä¸€ä¸ªæ–‡ä»¶å°±åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼ˆçŒœæµ‹æ²¡æœ‰æµ‹è¯•ï¼‰ã€‚ä½†æ˜¯æœ‰æ–‡ç« è¯´å°½é‡å°‘ä½¿ç”¨include_oneå› ä¸ºå®ƒå½±å“æ•ˆçŽ‡ä¼šåŽ»æ£€ç´¢ä¸€è¾¹æ˜¯å¦å·²å¼•ç”¨12.2-22ç‚¹18åˆ†PHPå˜é‡ä½œç”¨åŸŸï¼šåœ¨å±€éƒ¨ä½œç”¨åŸŸä¸­ä¸èƒ½è®¿é—®å…¨å±€å˜é‡åœ¨å…¨å±€ä½œç”¨åŸŸä¸­ä¸èƒ½è®¿é—®å±€éƒ¨å˜é‡include åªæ˜¯æŠŠå¦å¤–ä¸€ä¸ªæ–‡ä»¶å¼•å…¥è¿›æ¥ç„¶åŽæŒ‰ç¼–ç é¡ºåºæ‰§è¡Œäº†ä¸€è¾¹æ‰€ä»¥ å¦å¤–ä¸€ä¸ªæ–‡ä»¶é‡Œå£°æ˜Žçš„å…¨å±€å˜é‡ï¼Œè§„åˆ™ä¸å˜åœ¨å½“å‰æ–‡ä»¶ä¸€æ ·å¯ä»¥è®¿é—®ã€‚
ä½†PHPçš„å…¨å±€å˜é‡å’Œæˆ‘ä»¥å‰æ‰€è®¤çŸ¥çš„å…¨å±€å˜é‡ä¸ä¸€æ ·ï¼Œå…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡äº’ä¸å¹²æ‰°ä¹Ÿå°±æ˜¯åœ¨å‡½æ•°ï¼Œç±»ä¸­è®¿é—®ä¸åˆ°å…¨å±€å˜é‡ï¼Œè¦æƒ³è®¿é—®éƒ½å¿…é¡»ç”¨globalå£°æ˜Žä¸€è¾¹ï¼Œä¾‹å¦‚ï¼šglobal $str; ä¸ç®¡æ˜¯åœ¨ç±»ä¸­è¿˜æ˜¯åœ¨å‡½æ•°ä¸­ã€‚å¦å¤–åœ¨ç±»ä¸­è®¿é—®ç±»çš„å±žæ€§ä¸€å®šè¦ä½¿ç”¨this ç›´æŽ¥ä»¥å˜é‡çš„å½¢å¼è®¿é—®æ˜¯ä¸è¡Œçš„ï¼Œè¦ç†è§£ä¸ºå±žæ€§ï¼Œè°ƒç”¨å½“å‰å¯¹è±¡çš„å±žæ€§ è€Œä¸”ä¸ç”¨$ç¬¦å· ä¾‹å¦‚ï¼šthis->strï¼ˆjsçš„ç†è§£èµ·æ¥å°±ä¹ æƒ¯ç‚¹ï¼‰å¦å¤–PHPå˜é‡ä¸éœ€è¦ä½¿ç”¨varå£°æ˜Žâ€¦.æˆ‘ä¸€ç›´ç”¨varvar mdzzè¿™äº›ç¬”è®°éƒ½æ˜¯éšæ‰‹è®°çš„æ„Ÿè§‰å¥½ä¹±å•ŠPHPç±»é‡Œé¢çš„å‡½æ•°å¦‚æžœå’Œç±»åç›¸åŒçš„è¯åœ¨è¢«ç»§æ‰¿å’Œå£°æ˜Žçš„æ—¶å€™ä¼šè¢«è°ƒç”¨ä½†åˆæ„Ÿè§‰å’Œæž„é€ å‡½æ•°ä¸ä¸€æ ·ï¼Œæž„é€ å‡½æ•°å¦‚æžœè¢«ç»§æ‰¿äº†å£°æ˜Žå­ç±»å…¶çˆ¶ç±»çš„æž„é€ å‡½æ•°ä¸ä¼šè¢«æ‰§è¡Œï¼Œä½†è¿™ä¸ªéƒ½ä¼šæ‰§è¡Œã€‚thinkphp ç±»çš„åˆå§‹åŒ–å‡½æ•° _initializeåœ¨ç±»è¢«ç»§æ‰¿çš„æ—¶å€™ä¹Ÿä¼šè¢«æ‰§è¡Œthinkphp çš„å…¬å…±æ¨¡æ¿çš„è·¯å¾„ æ˜¯æŽ§åˆ¶å™¨è·¯å¾„/å…·ä½“çš„æ¨¡æ¿æ–‡ä»¶åå…³é”®æ˜¯è¿™é‡Œå¦‚æžœå¼•å…¥å‡ºé”™äº† tpåªä¼šæŠ¥æ²¡æœ‰æ‰¾åˆ°æ¨¡æ¿è€Œä¸”è·¯å¾„ä¸ºç©ºï¼Œå¹¶ä¸å¥½æŽ’æŸ¥é—®é¢˜å¦å¤–æ€»ç»“ä¸€ä¸‹thinkphpè·¯å¾„çš„å‘½å
ä¸‹é¢çš„éƒ½æ˜¯æˆ‘ç›´æŽ¥å¤åˆ¶çš„æ–‡æ¡£åŸºæœ¬ä¸Šå°±ç®—ä¸æŒ‰è¿™ä¸ªå‘½åä¹Ÿä¸ä¼šæ€Žæ ·ä½†ç±»æ–‡ä»¶ä¸€å®šè¦é©¼å³° é¦–å­—æ¯å¤§å†™ä¸ç„¶ä¼šæŠ¥é”™ å¦å¤–ç±»åä¹Ÿè¦é©¼å³°å‘½åè§„èŒƒå¤´éƒ¨å¼•ç”¨ä¹‹åŽåº”è¯¥å°±å¯ä»¥ç›´æŽ¥è°ƒç”¨ï¼Œä½†åœ¨ä½¿ç”¨åŠ©æ‰‹çš„æƒ…å†µä¸‹å¯ä»¥ç›´æŽ¥è°ƒç”¨å½“å‰ç±»çš„validateæ–¹æ³• å‚æ•°å°±æ˜¯è·¯å¾„å¯ä»¥ä¼ å®Œæ•´çš„è·¯å¾„ ä¹Ÿå¯ä»¥ä¸ä¼ å…¥ï¼Œä¸ä¼ å…¥çš„è¯é»˜è®¤åŽ»æŸ¥æ‰¾å½“å‰æ¨¡å—çš„éªŒè¯ç±»
ä½†å¦‚æžœè¦ä½¿ç”¨åœºæ™¯çš„è¯å¿…é¡»è‡³å°‘ä¼ å…¥éªŒè¯æ–‡ä»¶åï¼ˆä¹Ÿå°±æ˜¯éªŒè¯ç±»åï¼‰å’Œåœºæ™¯åç§°ä¾‹å¦‚ï¼šarticle.add æ–‡ç« éªŒè¯çš„æ·»åŠ åœºæ™¯tp5æ•°æ®åº“éƒ¨åˆ†tp5æ•°æ®åº“æ¨¡åž‹ä¼šè‡ªåŠ¨ç»™create_timeå­—æ®µèµ‹å€¼æ¨¡åž‹çš„è°ƒç”¨æ–¹æ³• å¤´éƒ¨use ä¹‹åŽå¯ä»¥ç›´æŽ¥è°ƒç”¨é™æ€æ–¹æ³•::ä½†å¥½åƒä¸å…¨åªæœ‰å‡ ä¸ªå¸¸ç”¨çš„ä¹Ÿå¯èƒ½æ˜¯vscodeæ²¡æœ‰æç¤ºåˆ°å¿«æ·çš„ä½¿ç”¨æ–¹æ³• ä½¿ç”¨getæ–¹æ³• ä¼ å…¥ä¸»é”®  ç„¶åŽå¯ä»¥ç›´æŽ¥è®¿é—®è¿”å›žçš„æ•°æ® ä»¥æ•°ç»„çš„å½¢å¼åŒæ—¶å¯ä»¥ç›´æŽ¥é“¾å¼ä½¿ç”¨saveæ–¹æ³• ç›´æŽ¥æ›´æ–°æ•°æ®ï¼Œæ·»åŠ æ•°æ®çš„æ–¹æ³•ï¼šnew ä¸€ä¸ªæ•°æ®æ¨¡åž‹ å¹¶ç›´æŽ¥ä¼ å…¥æ•°æ® ç„¶åŽè°ƒç”¨saveå¦‚æžœéœ€è¦è‡ªåŠ¨è¿‡æ»¤éžæ•°æ®åº“å­—æ®µ åœ¨saveä¹‹å‰é“¾å¼è°ƒç”¨ allowFlid(true)æ¨¡åž‹å…³è”ç®€å•çš„ä¸€å¯¹ä¸€ï¼šmodelç±»åˆ›å»ºä¸€ä¸ªå‡½æ•° å‡½æ•°åéšæ„ä½†æœ€å¥½ä¸ºå¦ä¸€å¼ è¡¨çš„è¡¨å å°é©¼å³°ç„¶åŽå†…éƒ¨è°ƒç”¨hasoneå‡½æ•°å¹¶è¿”å›žä¾‹å¦‚ï¼štp5æ•°æ®åº“éƒ¨åˆ†tp5æ•°æ®åº“æ¨¡åž‹ä¼šè‡ªåŠ¨ç»™create_timeå­—æ®µèµ‹å€¼æ¨¡åž‹çš„è°ƒç”¨æ–¹æ³• å¤´éƒ¨use ä¹‹åŽå¯ä»¥ç›´æŽ¥è°ƒç”¨é™æ€æ–¹æ³•::ä½†å¥½åƒä¸å…¨åªæœ‰å‡ ä¸ªå¸¸ç”¨çš„ä¹Ÿå¯èƒ½æ˜¯vscodeæ²¡æœ‰æç¤ºåˆ°å¿«æ·çš„ä½¿ç”¨æ–¹æ³• ä½¿ç”¨getæ–¹æ³• ä¼ å…¥ä¸»é”®  ç„¶åŽå¯ä»¥ç›´æŽ¥è®¿é—®è¿”å›žçš„æ•°æ® ä»¥æ•°ç»„çš„å½¢å¼åŒæ—¶å¯ä»¥ç›´æŽ¥é“¾å¼ä½¿ç”¨saveæ–¹æ³• ç›´æŽ¥æ›´æ–°æ•°æ®ï¼Œæ·»åŠ æ•°æ®çš„æ–¹æ³•ï¼šnew ä¸€ä¸ªæ•°æ®æ¨¡åž‹ å¹¶ç›´æŽ¥ä¼ å…¥æ•°æ® ç„¶åŽè°ƒç”¨saveå¦‚æžœéœ€è¦è‡ªåŠ¨è¿‡æ»¤éžæ•°æ®åº“å­—æ®µ åœ¨saveä¹‹å‰é“¾å¼è°ƒç”¨ allowFlid(true)æ¨¡åž‹å…³è”ç®€å•çš„ä¸€å¯¹ä¸€ï¼šmodelç±»åˆ›å»ºä¸€ä¸ªå‡½æ•° å‡½æ•°åéšæ„ä½†æœ€å¥½ä¸ºå¦ä¸€å¼ è¡¨çš„è¡¨å å°é©¼å³°ç„¶åŽå†…éƒ¨è°ƒç”¨hasoneå‡½æ•°å¹¶è¿”å›žä¾‹å¦‚ï¼šè¿˜æœ‰ä¸€ä¸ªå’ŒhasOneç±»ä¼¼çš„æ–¹æ³•ä½†æˆ‘æ²¡æ˜Žç™½ï¼tp5Validateéƒ¨åˆ†åˆ›å»ºå’Œæ¨¡å—åŒåçš„validate æ”¾åœ¨åº”ç”¨çš„validateæ–‡ä»¶å¤¹å†… ä¾‹å¦‚ï¼šæ”¯æŒæ­£åˆ™è¡¨è¾¾å¼å¥½åƒä½†åŸºæœ¬ä¸Šç”¨ä¸€ä¸‹å†…ç½®çš„è§„åˆ™å°±è¡Œäº†åŸºæœ¬çš„æœ‰ä¸‰ä¸ªå±žæ€§ï¼šprotected $rouleprotected $messageprotected $sceneè°ƒç”¨æ–¹å¼tp5æ•°æ®åº“éƒ¨åˆ†tp5æ•°æ®åº“æ¨¡åž‹ä¼šè‡ªåŠ¨ç»™create_timeå­—æ®µèµ‹å€¼æ¨¡åž‹çš„è°ƒç”¨æ–¹æ³• å¤´éƒ¨use ä¹‹åŽå¯ä»¥ç›´æŽ¥è°ƒç”¨é™æ€æ–¹æ³•::ä½†å¥½åƒä¸å…¨åªæœ‰å‡ ä¸ªå¸¸ç”¨çš„ä¹Ÿå¯èƒ½æ˜¯vscodeæ²¡æœ‰æç¤ºåˆ°å¿«æ·çš„ä½¿ç”¨æ–¹æ³• ä½¿ç”¨getæ–¹æ³• ä¼ å…¥ä¸»é”®  ç„¶åŽå¯ä»¥ç›´æŽ¥è®¿é—®è¿”å›žçš„æ•°æ® ä»¥æ•°ç»„çš„å½¢å¼åŒæ—¶å¯ä»¥ç›´æŽ¥é“¾å¼ä½¿ç”¨saveæ–¹æ³• ç›´æŽ¥æ›´æ–°æ•°æ®ï¼Œæ·»åŠ æ•°æ®çš„æ–¹æ³•ï¼šnew ä¸€ä¸ªæ•°æ®æ¨¡åž‹ å¹¶ç›´æŽ¥ä¼ å…¥æ•°æ® ç„¶åŽè°ƒç”¨saveå¦‚æžœéœ€è¦è‡ªåŠ¨è¿‡æ»¤éžæ•°æ®åº“å­—æ®µ åœ¨saveä¹‹å‰é“¾å¼è°ƒç”¨ allowFlid(true)æ¨¡åž‹å…³è”ç®€å•çš„ä¸€å¯¹ä¸€ï¼šmodelç±»åˆ›å»ºä¸€ä¸ªå‡½æ•° å‡½æ•°åéšæ„ä½†æœ€å¥½ä¸ºå¦ä¸€å¼ è¡¨çš„è¡¨å å°é©¼å³°ç„¶åŽå†…éƒ¨è°ƒç”¨hasoneå‡½æ•°å¹¶è¿”å›žä¾‹å¦‚ï¼štp5æ•°æ®åº“éƒ¨åˆ†tp5æ•°æ®åº“æ¨¡åž‹ä¼šè‡ªåŠ¨ç»™create_timeå­—æ®µèµ‹å€¼æ¨¡åž‹çš„è°ƒç”¨æ–¹æ³• å¤´éƒ¨use ä¹‹åŽå¯ä»¥ç›´æŽ¥è°ƒç”¨é™æ€æ–¹æ³•::ä½†å¥½åƒä¸å…¨åªæœ‰å‡ ä¸ªå¸¸ç”¨çš„ä¹Ÿå¯èƒ½æ˜¯vscodeæ²¡æœ‰æç¤ºåˆ°å¿«æ·çš„ä½¿ç”¨æ–¹æ³• ä½¿ç”¨getæ–¹æ³• ä¼ å…¥ä¸»é”®  ç„¶åŽå¯ä»¥ç›´æŽ¥è®¿é—®è¿”å›žçš„æ•°æ® ä»¥æ•°ç»„çš„å½¢å¼åŒæ—¶å¯ä»¥ç›´æŽ¥é“¾å¼ä½¿ç”¨saveæ–¹æ³• ç›´æŽ¥æ›´æ–°æ•°æ®ï¼Œæ·»åŠ æ•°æ®çš„æ–¹æ³•ï¼šnew ä¸€ä¸ªæ•°æ®æ¨¡åž‹ å¹¶ç›´æŽ¥ä¼ å…¥æ•°æ® ç„¶åŽè°ƒç”¨saveå¦‚æžœéœ€è¦è‡ªåŠ¨è¿‡æ»¤éžæ•°æ®åº“å­—æ®µ åœ¨saveä¹‹å‰é“¾å¼è°ƒç”¨ allowFlid(true)æ¨¡åž‹å…³è”ç®€å•çš„ä¸€å¯¹ä¸€ï¼šmodelç±»åˆ›å»ºä¸€ä¸ªå‡½æ•° å‡½æ•°åéšæ„ä½†æœ€å¥½ä¸ºå¦ä¸€å¼ è¡¨çš„è¡¨å å°é©¼å³°ç„¶åŽå†…éƒ¨è°ƒç”¨hasoneå‡½æ•°å¹¶è¿”å›žä¾‹å¦‚ï¼šè¿˜æœ‰ä¸€ä¸ªå’ŒhasOneç±»ä¼¼çš„æ–¹æ³•ä½†æˆ‘æ²¡æ˜Žç™½ï¼tp5Validateéƒ¨åˆ†åˆ›å»ºå’Œæ¨¡å—åŒåçš„validate æ”¾åœ¨åº”ç”¨çš„validateæ–‡ä»¶å¤¹å†… ä¾‹å¦‚ï¼šæ”¯æŒæ­£åˆ™è¡¨è¾¾å¼å¥½åƒä½†åŸºæœ¬ä¸Šç”¨ä¸€ä¸‹å†…ç½®çš„è§„åˆ™å°±è¡Œäº†åŸºæœ¬çš„æœ‰ä¸‰ä¸ªå±žæ€§ï¼šprotected $rouleprotected $messageprotected $sceneè°ƒç”¨æ–¹å¼ç”Ÿç”Ÿä¸æ¯ï¼Œç¹è£æ˜Œç››';
//            $str = [];
//            $str[] = 'å•10';
//            $str[] = 'åŒ50';
//            $str[] = 'ä¸‡23456åƒ23456é™¤å„1';
//            $rand = mt_rand(0,2);
            $len  = pack('i',strlen($str)+4);
            $client->send($len.urlencode($str[$rand]));
            //sleep(0.5);
            //}
            $result = $client->recv();
            if ($result == false){
                echo $client->errMsg;
            }else{
                echo urldecode($result);
            }
            $client->close();
        });
    }

});